Steps:
1. trace
2. memoize
3. erp
4. probabilistic inference